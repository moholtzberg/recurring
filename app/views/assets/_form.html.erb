<fieldset>	
	
	<div id="attachment" class="col-md-6">
		<%= f.label :attachment, :class => "control-label" %>
		<%= f.file_field :attachment, :class => "form-control" %>
	</div>
	
	<div id="item" class="col-md-6">
		<%= f.label :item, :class => "control-label" %>
		<%= f.select :item_id, [[f.object.item&.name, f.object.item_id]], {include_blank: true}, :class => "form-control", style: "width: 100%" %>
	</div>

	<script>
		$("#asset_item_id").select2({
		  ajax: {
		    url: "<%= autocomplete_items_path %>",
		    dataType: 'json',
		    delay: 250,
		    data: function (params) {
		      return {
		        term: params.term
		      };
		    },
		    processResults: function (data, params) {
		      return {
		        results: data
		      };
		    },
		    cache: true
		  },
		  minimumInputLength: 1,
		  placeholder: 'Search item',
		  allowClear: true,
		  theme: "bootstrap"
		});

		$('#asset_item_id').change(function(){
			if ($(this).val() == '') {
				$('#asset_position').prop('disabled', true)
			} else {
				$('#asset_position').prop('disabled', false)
			}
		})
	</script>
	
	<div id="position" class="col-md-6">
		<%= f.label :position, :class => "control-label" %>
		<%= f.number_field :position, :class => "form-control", disabled: f.object.item_id.nil? %>
	</div>
	
	<div id="alt" class="col-md-6">
		<%= f.label :alt, :class => "control-label" %>
		<%= f.text_field :alt, :class => "form-control" %>
	</div>
	
</fieldset>