<section class="featured-grid">
	<div class="container">
		<div class="row">
			<div class="col-sm-6">
				<img src="http://placehold.it/545x440/ffff00/ffffff&text=">
				<div class="ribbon hidden-xs">
					<div class="absolute">
						<h2>87%</h2>
						<h4>OFF</h4>
					</div>
				</div>
				<div class="absolute bottom-right text-right">
					<h1 class="text-white">
						<em>HUGE</em> 
						<em class="weight-300 text-white">DISCOUNTS</em>
					</h1>
					<a class="btn btn-primary btn-xs margin-top-10" href="#">Explore Now &raquo;</a>
				</div>
			</div>
			<div class="col-sm-6">
				<div class="relative">
					<img src="http://placehold.it/545x215/ff00ff/ffffff&text=">
					<%# image_tag "banner_one_stop_shop.png" %>
					<div class="absolute text-left">
						<h2>Men</h2>
						<p>
							YOU DON'T WANT TO MISS!
						</p>
						
						<p class="font-lato margin-top-30 size-16 hidden-sm hidden-xs">Donec tellus massa, tristique sit amet condim vel,<br /> facilisis quis sapien. Praesent id enim sit amet.</p>
						<a class="btn btn-primary margin-top-20" href="#">Shop Now &raquo;</a>
					</div>
				</div>
				<div class="relative">
					<img src="http://placehold.it/545x215/00ffff/ffffff&text=">
					<%# image_tag "banner_123_toner.png" %>
					<div class="absolute text-right">
						<h2>10 EMPLOYEES OR MORE?</h2>
						<p>
							
						</p>

						<p class="font-lato margin-top-30 size-16 hidden-sm hidden-xs">SPECIAL PROGRAMS FOR ORGANIZATIONS WITH 10+ EMPLOYEES</p>
						<a class="btn btn-primary margin-top-20" href="#">Shop Now &raquo;</a>
					</div>
				</div>
			</div>
			
			<div class="col-sm-6">
				<div class="relative">
					<%= image_tag "banner_123_toner.png" %>
				</div>
				<div class="relative">
					<%= image_tag "banner_one_stop_shop.png" %>
				</div>
			</div>
			<div class="col-sm-6">
				<div class="panel panel-default toner-finder">
					<div class="panel-body">
		
							<h4 class="text-center"><strong>INK & TONER FINDER</strong></4>
							<h4 class="text-center">FIND INK, TONER & PRINTER SUPPLIES FAST & EASY</h4>
							<br/>
							<select id="finder-make" class="form-control">
								<option>1 | Select Your Printer Brand</option>
								<% Category.find_by(:slug => "inks-toners").children.where(:active => true, :show_in_menu => true).order(:name).each do |make| %>
									<option value="<%= make.id %>"><%= make.name %></option>
								<% end %>
							</select>

							<script>
								$("select#finder-make").change(function(event){
									var make = $("select#finder-make").val();

									var request = $.ajax({
										url : '/categories/'+ make,
										// data: {token: '<%# spree_current_user.spree_api_key %>'},
										dataType : "json"
									});

									request.success(function(data) {
										success_action(data)
									});

									request.error(function(httpObj, textStatus) {       
										if(httpObj.status == 200)
										success_action(data)
										else
										alert("Failed")
									});

									function success_action(data_object) {
										console.log(data_object)
										var text = "<option>2 | Select Your Printer Family</option>"
										for (var i=0; i < data_object.length; i++) {
											text += "<option value=" + data_object[i].id + ">" + data_object[i].name + "</option>"
										};
										$("select#finder-family").empty().append(text);
										$("select#finder-family").removeAttr("disabled");
									}

								});
							</script>
							<br/>

							<select id="finder-family" class="form-control" disabled>
								<option>2 | Select Your Printer Family</option>
							</select>

							<script>
								$("select#finder-family").change(function(event){
									var make = $("select#finder-family").val();

									var request = $.ajax({
										url : '/categories/'+ make,
										// data: {token: '<%# spree_current_user.spree_api_key %>'},
										dataType : "json"
									});

									request.success(function(data) {
										success_action(data)
									});

									request.error(function(httpObj, textStatus) {       
										if(httpObj.status == 200)
										success_action(data)
										else
										alert("Failed")
									});

									function success_action(data_object) {
										console.log(data_object)
										var text = "<option>3 | Select Your Printer Model</option>"
										for (var i=0; i < data_object.length; i++) {
											text += "<option value=" + data_object[i].id + " slug=" + data_object[i].slug + ">" + data_object[i].name + "</option>"
										};
										$("select#finder-model").empty().append(text);
										$("select#finder-model").removeAttr("disabled");
									}

								});
							</script>

							<br/>

							<select id="finder-model" class="form-control" disabled>
								<option>3 | Select Your Printer Model</option>
							</select>

							<script>
								$("select#finder-model").change(function(event){
									var make = $("select#finder-model").find(":selected").attr("slug");

									// var request = $.ajax({
									// 	url : '/something/'+ make,
									// 	// data: {token: '<%# spree_current_user.spree_api_key %>'},
									// 	dataType : "json"
									// });

									// request.success(function(data) {
									// 	success_action(data)
									// });
									// 
									// request.error(function(httpObj, textStatus) {       
									// 	if(httpObj.status == 200)
									// 	success_action(data)
									// 	else
									// 	alert("Failed")
									// });

									// function success_action(data_object) {
										window.location.href = "/" + make;
									// }

								});
							</script>
		
						</div>
				</div>
			</div>
			
		</div>
	</div>
</section>